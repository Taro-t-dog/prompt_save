## プロンプト管理システム

### 概要

このプロジェクトは、ユーザーがプロンプトとその結果を保存、読み込み、編集できる対話型のツールです。 Groq API を通じて Llama 3 モデルから応答を取得する機能や、手動での結果入力に対応しています。 Llama 3 を採用した理由は、コストがかからない点にあり、無料でありながら高性能なモデルを活用して効率的なプロンプト管理を実現します。 データは JSON 形式で保存され、編集履歴も記録されるため、過去のやり取りを簡単に振り返ることができます。

### 従来の不満

プロンプトエンジニアリングにおいて、プロンプトだけを管理するのでは十分ではありません。 プロンプトとその出力結果、さらに PDF などの添付資料をセットで管理する必要性を感じていました。 このツールでは、そうした課題を解決し、一元的な管理を可能にすることを目指しています。

### 機能

*   プロンプトと結果の保存:
    *   Groq API 経由で Llama 3 モデルを使用するか、手動で結果を入力できます。
    *   モデル名や追加情報（トーン、キーワードなど）を指定できます。
    *   データを `prompts` フォルダに JSON ファイルとして保存します。
*   プロンプトの読み込み:
    *   保存済みのプロンプト、結果、追加情報、編集履歴を表示できます。
*   プロンプトの編集:
    *   既存のプロンプトや結果を編集し、再生成も可能です。
    *   編集履歴を保存します。
*   対話型メニュー:
    *   操作が簡単なメニュー形式のインターフェースです。

### 依存関係

*   Python 3.x
*   `groq` パッケージ（Groq API を使用するため）
*   `python-dotenv` パッケージ（オプション: 環境変数の読み込みに使用）

### セットアップ

1.  **リポジトリの取得:**

    *   **Git を使用してクローン (推奨):**
        Git がインストールされている場合は、以下のコマンドを実行してリポジトリをローカルにクローンします。

        ```bash
        git clone <リポジトリのURL>
        ```

        `<リポジトリのURL>` は、GitHub などのリポジトリサービスの URL（例: `https://github.com/your-username/your-repo.git`）に置き換えてください。
    *   **ZIP ファイルとしてダウンロード:**
        Git を使用しない場合は、リポジトリの ZIP ファイルをダウンロードできます。

        1.  GitHub などのリポジトリサービスで、リポジトリのページを開きます。
        2.  「Code」ボタンをクリックし、「Download ZIP」を選択します。
        3.  ダウンロードした ZIP ファイルを解凍します。

2.  **必要なパッケージのインストール:**

    *   このプロジェクトでは、以下の Python パッケージが必要です。
        *   `groq`
        *   `python-dotenv` (オプション: 環境変数の読み込みに使用)
    *   **プログラム実行時の自動インストール:**
        プログラムを実行すると、不足しているパッケージが自動的にインストールされる場合があります。
    *   **手動インストールが必要な場合:**
        もしプログラムの実行中に、パッケージが見つからないというエラーが表示された場合は、以下のコマンドをコマンドプロンプトまたはターミナルで実行して、手動でインストールしてください。

        ```bash
        pip install groq  # Groq API クライアント
        pip install python-dotenv  # 環境変数管理 (オプション)
        ```
    *   **仮想環境の利用 (オプション):**
        Python プロジェクトでは、仮想環境を使用すると便利です。 仮想環境を作成すると、プロジェクトに必要なパッケージを、システム全体とは別に管理できます。
        仮想環境の作成と有効化の手順は以下の通りです。 ただし、この手順は必須ではありません。

        ... (仮想環境の説明) ...

3.  **Groq API キーの設定:**

    *   このプログラムを実行するには、Groq API キーが必要です。
    *   Groq のアカウントを作成し、API キーを取得してください。 [https://console.groq.com/login](https://console.groq.com/login)
    *   **環境変数の設定:**
        取得した API キーを、環境変数として設定する必要があります。 環境変数の設定方法は、お使いのオペレーティングシステムによって異なります。
        *   **Windows:**

            1.  検索バーに「環境変数」と入力し、「システム環境変数の編集」を選択します。
            2.  「環境変数」ボタンをクリックします。
            3.  「システム環境変数」または「ユーザー環境変数」のどちらかに、新しい変数を作成します。
            4.  変数の名前を `GROQ_API_KEY` 、変数の値をあなたの Groq API キーに設定します。
            5.  OK ボタンをクリックして、変更を保存します。
        *   **macOS/Linux:**

            1.  ターミナルを開きます。
            2.  以下のコマンドを実行します。 `<YOUR_GROQ_API_KEY>` をあなたの Groq API キーに置き換えてください。

                ```bash
                export GROQ_API_KEY="<YOUR_GROQ_API_KEY>"
                ```

            3.  この設定は、ターミナルを閉じるまで有効です。 永続的に設定するには、`.bashrc` または `.zshrc` などの設定ファイルに上記のコマンドを追加します。

### 使用方法

1.  スクリプトを実行。

    ```bash
    python main.py
    ```

2.  表示されるメニューから操作を選択:

    1.  新しいプロンプトと結果を保存
    2.  保存済みのファイルを読み込む
    3.  保存済みのファイルを編集
    4.  プログラムを終了

    指示に従い、プロンプトや追加情報を入力します。

### 保存データの形式

保存される JSON ファイルの例:

```json
{
  "service_name": "llama3-70b-8192",
  "input_info": "親しみやすいトーン",
  "timestamp": "2025-02-22T10:00:00",
  "prompt": "こんにちは！",
  "result": "こんにちは、お元気ですか？",
  "history": [
    {
      "timestamp": "2025-02-22T09:50:00",
      "prompt": "こんにちは",
      "result": "こんにちは！",
      "input_info": "カジュアル",
      "old_service_name": "llama3-70b-8192",
      "new_service_name": "llama3-70b-8192"
    }
  ]
}
